(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[97],{2528:(e,t,u)=>{"use strict";u.d(t,{A:()=>c,AuthProvider:()=>a});var r=u(5155),o=u(2115),l=u(8801),s=u.n(l);let n=(0,o.createContext)(),a=e=>{let{children:t}=e,[u,l]=(0,o.useState)(null),[a,c]=(0,o.useState)(null),[i,d]=(0,o.useState)(!0);return(0,o.useEffect)(()=>{let e=localStorage.getItem("sig_token");if(e)try{let t=s().decode(e),u=Date.now()/1e3;c(e),t.exp&&t.exp<u?(localStorage.removeItem("sig_token"),l(null)):l(t)}catch(e){l(null)}d(!1)},[]),(0,r.jsx)(n.Provider,{value:{user:u,login:e=>{localStorage.setItem("sig_token",e),l(s().decode(e))},logout:()=>{localStorage.removeItem("sig_token"),l(null)},loading:i,setLoading:d,token:a},children:t})},c=()=>(0,o.useContext)(n)},5695:(e,t,u)=>{"use strict";var r=u(8999);u.o(r,"usePathname")&&u.d(t,{usePathname:function(){return r.usePathname}}),u.o(r,"useRouter")&&u.d(t,{useRouter:function(){return r.useRouter}})},8685:(e,t,u)=>{"use strict";u.r(t),u.d(t,{default:()=>n});var r=u(5155),o=u(2115),l=u(5695),s=u(2528);let n=e=>{let{children:t}=e,u=(0,l.useRouter)(),{user:n,loading:a}=(0,s.A)();return(0,o.useEffect)(()=>{!a&&n&&u.push("/")},[n,a]),(0,r.jsx)("main",{children:t})}},9012:(e,t,u)=>{Promise.resolve().then(u.bind(u,8685))}},e=>{var t=t=>e(e.s=t);e.O(0,[268,641,617,441,684,358],()=>t(9012)),_N_E=e.O()}]);